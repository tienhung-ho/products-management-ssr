include ../mixins/multilevel-menu.pug

header.header
  .container-fluid
    .row.align-items-center
      .col-3
        .inner-logo
          a(href="/")
            img(src="/images/logo.jfif", alt="Logo")
      .col-5
        form(
          action="/search"
          method="GET"
        ) 
          div(class="form-group d-flex mb-0")
            input(
              type="text"
              placeholder="Nhập từ khóa..."
              class="form-control"
              name="keyword"
              value=keyword
            )
            button(
              type="submit"
              class="btn btn-primary"
            ) Tìm kiếm

      .col-4 
        .inner-menu
          ul
            li
              a(href="/") Trang chủ
            li.sub-menu
              a(href="/product") Sản phẩm
                if (layoutProductsCategories)
                  +multilevel-menu(layoutProductsCategories, '/product')
            if user
              .header_toggle
                i.bx.bx-menu#header-toggle
              div(
                class='col-3 d-flex justify-content-end'
                )
                  .col-9.text-end.d-flex.flex-row-reverse
                  .dropdown.mt-sm-auto.ms-auto.ms-sm-0.flex-shrink-1(style="color: black")
                      a.d-flex.align-items-center.text-white.text-decoration-none.dropdown-toggle(href='#', id='dropdownUser1', data-bs-toggle='dropdown', aria-expanded='false')
                          //- img(src=user., alt='hugenerd', width='28', height='28', class='rounded-circle')
                          span.d-none.d-sm-inline.mx-1.btn.btn-primary(style="color: white") #{user.fullName}
                      ul.dropdown-menu.dropdown-menu-dark.text-small.shadow(aria-labelledby='dropdownUser1')
                          li
                              a.dropdown-item(href='#') Settings
                          li
                              a.dropdown-item(href=`/${prefixAdmin}/my-account`) Profile
                          li
                              hr.dropdown-divider
                          li
                            a.dropdown-item(
                              href=`/${prefixAdmin}/auth/logout`
                              class='d-flex btn btn text-center btn-outline-info align-middle'
                            )
                              p(style="color: white; margin-bottom: 0; margin-right: 0.2rem") Sign out
                              svg(
                                viewBox="0 0 32 32"
                                xmlns="http://www.w3.org/2000/svg"
                                width="20"
                                height="20"
                                fill='white'
                                style="cursor: pointer; "
                              )
                                defs
                                  style.
                                    .cls-1{fill:none;stroke:black;stroke-linecap:round;stroke-linejoin:round;stroke-width:2px;}
                                g#logout
                                  line.cls-1(x1="15.92", x2="28.92", y1="16", y2="16")
                                  path(d="M23.93,25v3h-16V4h16V7h2V3a1,1,0,0,0-1-1h-18a1,1,0,0,0-1,1V29a1,1,0,0,0,1,1h18a1,1,0,0,0,1-1V25Z")
                                  line.cls-1(x1="28.92", x2="24.92", y1="16", y2="20")
                                  line.cls-1(x1="28.92", x2="24.92", y1="16", y2="12")
                                  line.cls-1(x1="24.92", x2="24.92", y1="8.09", y2="6.09")
                                  line.cls-1(x1="24.92", x2="24.92", y1="26", y2="24")

            else
              li
                a(href="/user/register") Đăng ký
              li
                a(href="/user/login") Đăng Nhập
            li.cart
              a.cart-icon(href="/cart")
                <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24" style="fill: rgba(0, 0, 0, 1);transform: ;msFilter:;">
                    <path d="M21.822 7.431A1 1 0 0 0 21 7H7.333L6.179 4.23A1.994 1.994 0 0 0 4.333 3H2v2h2.333l4.744 11.385A1 1 0 0 0 10 17h8c.417 0 .79-.259.937-.648l3-8a1 1 0 0 0-.115-.921zM17.307 15h-6.64l-2.5-6h11.39l-2.25 6z">
                    </path>
                <circle cx="10.5" cy="19.5" r="1.5"></circle><circle cx="17.5" cy="19.5" r="1.5"></circle></svg>
                if miniCart
                  span.total-quantity #{miniCart.totalQuantity}
